var api="https://www.fly3949.com/";function switchTo(t){$(".right section").each(function(){$(this).removeClass("active")}),$(t).addClass("active")}function getAchives(){t="",$.ajax({type:"GET",url:api+"wp-json/wp/v2/posts?per_page=10&page=1&_fields=date,title,link",dataType:"json",success:function(e){for(var o=0;o<e.length;o++)title=e[o].title.rendered,link=e[o].link,time=new Date(e[o].date).Format("yyyy-MM-dd"),t+=`<li><a href="${link}" target="_blank">${title} <span class="meta">/ ${time}</span></a></li>`,$(".archive-list").html(t)}})}function getHitokoto(){$.ajax({url:"https://v1.hitokoto.cn/",dataType:"json",success:function(t){write(t.hitokoto+" —— "+t.from)},error:function(){write("Error...")}})}function write(t){t.length<30?$("#hitokoto").html(t):getHitokoto()}function blobToDataURI(t,e){var o=new FileReader;o.onload=function(t){e(t.target.result)},o.readAsDataURL(t)}$(document).ready(function(){$(".loading").hide(),getAchives(),getHitokoto()}),$(".menu a").click(function(){switchTo(target=$(this).attr("goto"))}),Date.prototype.Format=function(t){var e,o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[e]:("00"+o[e]).substr((""+o[e]).length)));return t};var url="img/bg.jpg",xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="blob",xhr.onload=function(){200==this.status&&blobToDataURI(this.response,function(t){$("body").css("background-image","url('"+t+"')"),$("#background-small").addClass("smallBg"),$("#background-small").css("opacity","0")})},xhr.send();